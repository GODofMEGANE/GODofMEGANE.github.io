---
title: "Github pages+Hugoでブログ作ってみた"
slug: start_hugo
date: 2022-04-10T13:20:22+09:00

tags: ["PC", "Web"]
categories: ["PC関連"]

draft: true
---

前からGODofMEGANE.github.ioでブログっぽいことをしようと思ってましたが、最近godofmegane.comドメインを買ったのでブログ作ってみました
## Github pagesとGoogle Domainsの設定
まずはGithubで空リポジトリを作成し、pagesの設定を行います
{{< img src="images/start_hugo_20220410-132021/github_settings.png" >}}
{{< img src="images/start_hugo_20220410-132021/pages_settings.png" >}}

この画面でNoneと書かれている場面を設定したいブランチにしてディレクトリを選べば簡単にホームページが作れます  
確認のために適当にhtmlファイルを作ってpushしてみるといいと思います  
リポジトリ名が ユーザー名.github.io なら  

*ユーザー名.github.io"*  

それ以外なら  

*ユーザー名.github.io/リポジトリ名*  

でアクセスできます

次にGoogle DomainsのリンクとGithub pagesを紐づけます
{{< img src="images/start_hugo_20220410-132021/pages_settings.png" >}}

DNSの設定からカスタムレコードを作成します  
タイプはCNAMEにしましょう  
CNAMEの場合ホスト名を決める必要があるので、wwwとかにすると良いと思います  
データにはgithub pagesのURLを入力しておきます  

ここまで設定したらまたgithub pagesの設定画面へ戻りましょう
{{< img src="images/start_hugo_20220410-132021/pages_customdomain.png" >}}

Custom domainの欄にGoogle Domainsで取得したドメインを入力し、Saveをクリックします  
少し待てばGoogle Domainsで取得したドメインにアクセスするとgithub pagesが見られるようになるはずです！  
次にHugoを用いてブログを作っていきます
## Hugoのインストール
今回はWindowsでインストールを行います  
まず本体を[こちら](https://github.com/gohugoio/hugo/releases)からダウンロードします  
Windowsを使用していて64bit版なら  
hugo_0.96.0_Windows-64bit.zip  
をダウンロードして解凍しましょう  
出てきた実行ファイルにはPATHを通しておきましょう  
envと検索し、環境変数を編集を開きます  
{{< img src="images/start_hugo_20220410-132021/kankyou.png" >}}
そうしたら上の通り  
1. ユーザー環境変数のPathを選択
2. 編集(E)…をクリック
3. 新規(N)…をクリック
4. hugoの実行ファイルがあるフォルダを入力  

を行いましょう  
**実行ファイル自体ではなくて、実行ファイルのあるフォルダなので注意してください**  
最後にOKを押して閉じましょう  
ここまで終わったらPowerShellを開き  
~~~
hugo
~~~
と入力してみましょう
{{< img src="images/start_hugo_20220410-132021/type_hugo.png" >}}

上記のような結果になればOKです  
> 用語 'hugo' は、コマンドレット、関数、スクリプト ファイル、または操作可能なプログラムの名前として認識されません。

と表示された場合、PATHを通せていないのでもう一度やり直してみてください  
正常にPATHが通せたら先ほどgithub pagesの設定を行ったリポジトリをcloneしましょう  
cloneしたらそのディレクトリ内部でPowerShellで以下のコマンドを入力しましょう  
~~~
hugo new site サイト名
~~~
サイト名の部分は各自で好きな名前にしてください  
これでhugoの準備は完了です  
## Hugoのテーマを決める
Hugoではテーマというものがあり、他の人が作成したテーマを適用することで簡単にカッコいいブログを作ることができます  
[こちら](https://themes.gohugo.io/)から好みのテーマを探してみましょう
このブログでは[robust](https://github.com/dim0627/hugo_theme_robust)というテーマを使わせてもらっています  
スマホでの見た目がカッコいくてお気に入りです!  
テーマを決めたら以下のコマンドを入力しましょう  
~~~
cd themes
git submodule add テーマのGithubのURL
~~~  
これだけでテーマを適用させることができます  
~~~
hugo server
~~~
と入力した後に http://localhost:1313/ にアクセスすれば確認ができます  
次に設定ファイル config.toml を書き換えます
## Hugoの設定を行う
Hugoでは config.toml を書き換えることで色々な設定が行えます  
自分の設定を以下に置いておきます  
~~~
baseURL = 'http://godofmegane.github.io/'
canonifyurls = true
publishDir = "docs"
languageCode = 'ja'
DefaultContentLanguage = 'ja'
title = "GODofMEGANE's Blog"
theme = 'hugo_theme_robust'
googleAnalytics = 'UA-225430593-1'
disqusShortname = 'www-godofmegane-com'
enableGitInfo = true

[Params]
enableHighlight = false
description = "音ゲー大好きメガネの神様のブログ"
dateformat = "2006/01/02"

[params.author]
name = "GODofMEGANE"
twitter = "https://twitter.com/god_of_megane"
github = "https://github.com/GODofMEGANE"

[taxonomies]
tag = 'tags'
category = 'categories'
~~~
baseURLにはgithub pagesのURLを設定しましょう(もしかしたら)